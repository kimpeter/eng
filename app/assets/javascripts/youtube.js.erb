var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

var player;
function onYouTubeIframeAPIReady() {
  player = new YT.Player('ytplayer', {
    videoId: "aFTQ8gnKnFw",
    width: 960,
    height: 540,
    playerVars: {
      controls: 0,
      showinfo: 0,
      modestbranding: 1,
      wmode: "opaque"
      
    },
    events: {
      // 'onReady': ytHover,
      'onStateChange': onPlayerStateChange
    }
  });
}

function onPlayerStateChange(event){
  if(event.data == YT.PlayerState.PLAYING)
  {
    event.target.setPlaybackQuality('hd1080');
  }
}

function ytHover(event){
  $('#share_on_movie').hover(
    function() {
      $("#share_on_movie").animate({
        opacity: 0.5},
        200, function() {        
      });
      $("#share_twitter_on_movie").animate({
        opacity: 1},
        100, function() {        
      });
      $("#share_facebook_on_movie").animate({
        opacity: 1},
        100, function() {        
      });
    },
    function() {
      if( ! $("[class$='_on_movie']:hover").length > 0) {
        $("#share_on_movie").animate({
          opacity: 0},
          100, function() {
          /* stuff to do after animation is complete */
        });
        $("#share_twitter_on_movie").animate({
          opacity: 0},
          100, function() {
          /* stuff to do after animation is complete */
        });
        $("#share_facebook_on_movie").animate({
          opacity: 0},
          100, function() {
          /* stuff to do after animation is complete */
        });
      }
    }
  );
}